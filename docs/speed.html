<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>v7 通信速度測定 | 株式会社縁人</title>
<link href="assets/lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="assets/css/style.css" rel="stylesheet">
<link rel="stylesheet" href="TemplateData/style.css">
<style>
  /* ナビを崩さず本文だけ調整 */
  #unity-wrap{
    width:100%;
    margin:40px auto;
    text-align:center;
  }
  #unity-container{
    display:inline-block;
    max-width:640px;
    width:100%;
  }
  #unity-canvas{
    display:block;
    width:100%!important;
    height:auto!important;
  }
</style>
</head>
<body>

<!-- ==== ナビは元のまま ==== -->
<nav class="navbar navbar-custom navbar-fixed-top"><div class="container">…</div></nav>

<div class="container" style="margin-top:120px"><!-- ナビ高さ分下げる -->

  <h2>光回線通信速度測定<span>EnjinGame</span></h2>
  <p>EnjinGame 光回線の通信速度が計測可能です</p>

  <!-- ===== Unity ブロック (グリッド外) ===== -->
  <div id="unity-wrap">
    <div id="unity-container" class="unity-desktop">
      <canvas id="unity-canvas" width="320" height="320" tabindex="-1"></canvas>

      <div id="unity-loading-bar" style="display:none">
        <div id="unity-logo"></div>
        <div id="unity-progress-bar-empty">
          <div id="unity-progress-bar-full"></div>
        </div>
      </div>

      <div id="unity-warning"></div>
      <div id="unity-footer"></div>
    </div>
  </div>
  <!-- ====================================== -->

  <p>ここにゲームが入るとありがたいです。</p>

  <dl>
    <dt>【EnjinGame注意事項】</dt>
    <dd>
      <p>通信速度はあくまで目安です。50Mのファイルを複数個ダウンロードし速度を測定します。</p>
      <p>通信速度はあくまで目安です。50Mのファイルを複数個ダウンロードし速度を測定します。</p>
      <p>通信速度はあくまで目安です。50Mのファイルを複数個ダウンロードし速度を測定します。</p>
      <p>通信速度はあくまで目安です。50Mのファイルを複数個ダウンロードし速度を測定します。</p>
    </dd>
    <dt>EnjinGameの不具合は</dt>
    <dd><p>０３-６９１５-６５０６まで、お気軽にご連絡ください。</p></dd>
  </dl>

</div><!-- /.container -->

<footer class="footer"><div class="container">…</div></footer>

<!-- ==== JS（Bootstrap・Unity ローダーは元のまま） ==== -->
<script src="assets/lib/jquery/dist/jquery.js"></script>
<script src="assets/lib/bootstrap/dist/js/bootstrap.min.js"></script>

<script>
  /* 表示サイズ調整 */
  const c=document.getElementById("unity-canvas");
  function fit(){c.style.width=(window.innerWidth>=768?540:320)+"px";}
  fit();window.addEventListener("resize",fit);

  /* バナー */
  function unityShowBanner(m,t){
    const w=document.getElementById("unity-warning");
    const d=document.createElement("div");d.innerHTML=m;
    d.style.cssText="padding:10px;background:"+(t==="error"?"red":"yellow");
    w.appendChild(d);if(t!=="error")setTimeout(()=>w.removeChild(d),5000);
  }

  const buildUrl="Build";
  const config={
    dataUrl:buildUrl+"/WebGL.data",
    frameworkUrl:buildUrl+"/WebGL.framework.js",
    codeUrl:buildUrl+"/WebGL.wasm",
    streamingAssetsUrl:"StreamingAssets",
    companyName:"DefaultCompany",
    productName:"WiFiPunchGame",
    productVersion:"0.1.0",
    showBanner:unityShowBanner
  };

  document.getElementById("unity-loading-bar").style.display="block";
  const s=document.createElement("script");s.src=buildUrl+"/WebGL.loader.js";
  s.onload=()=>{createUnityInstance(c,config,p=>{
      document.getElementById("unity-progress-bar-full").style.width=(p*100)+"%";
    }).then(()=>{document.getElementById("unity-loading-bar").style.display="none";})
      .catch(alert);};
  document.body.appendChild(s);
</script>
</body>
</html>
